!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.feathers=t():e.feathers=t()}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(10),i=r(4).Unavailable,c=r(6)._,a=r(6).stripSlashes,u=r(4).convert;function s(e){if("ECONNREFUSED"===e.code)throw new i(e.message,c.pick(e,"address","port","config"));throw u(e)}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=a(t.name),this.options=t.options,this.connection=t.connection,this.base="".concat(t.base,"/").concat(this.name)}var t,r;return t=e,(r=[{key:"makeUrl",value:function(e,t){e=e||{};var r=this.base;if(null!=t&&(r+="/".concat(encodeURIComponent(t))),0!==Object.keys(e).length){var n=o.stringify(e);r+="?".concat(n)}return r}},{key:"find",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.request({url:this.makeUrl(e.query),method:"GET",headers:Object.assign({},e.headers)},e).catch(s)}},{key:"get",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return void 0===e?Promise.reject(new Error("id for 'get' can not be undefined")):this.request({url:this.makeUrl(t.query,e),method:"GET",headers:Object.assign({},t.headers)},t).catch(s)}},{key:"create",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.request({url:this.makeUrl(t.query),body:e,method:"POST",headers:Object.assign({"Content-Type":"application/json"},t.headers)},t).catch(s)}},{key:"update",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return void 0===e?Promise.reject(new Error("id for 'update' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(r.query,e),body:t,method:"PUT",headers:Object.assign({"Content-Type":"application/json"},r.headers)},r).catch(s)}},{key:"patch",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return void 0===e?Promise.reject(new Error("id for 'patch' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(r.query,e),body:t,method:"PATCH",headers:Object.assign({"Content-Type":"application/json"},r.headers)},r).catch(s)}},{key:"remove",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return void 0===e?Promise.reject(new Error("id for 'remove' can not be undefined, only 'null' when removing multiple entries")):this.request({url:this.makeUrl(t.query,e),method:"DELETE",headers:Object.assign({},t.headers)},t).catch(s)}}])&&n(t.prototype,r),e}();e.exports=f},function(e,t,r){(function(e){function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(n=(c=a.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.stripSlashes=function(e){return e.replace(/^(\/+)|(\/+)$/g,"")};var i=t._={each:function(e,t){e&&"function"==typeof e.forEach?e.forEach(t):i.isObject(e)&&Object.keys(e).forEach(function(r){return t(e[r],r)})},some:function(e,t){return Object.keys(e).map(function(t){return[e[t],t]}).some(function(e){var r=o(e,2),n=r[0],i=r[1];return t(n,i)})},every:function(e,t){return Object.keys(e).map(function(t){return[e[t],t]}).every(function(e){var r=o(e,2),n=r[0],i=r[1];return t(n,i)})},keys:function(e){return Object.keys(e)},values:function(e){return i.keys(e).map(function(t){return e[t]})},isMatch:function(e,t){return i.keys(t).every(function(r){return e[r]===t[r]})},isEmpty:function(e){return 0===i.keys(e).length},isObject:function(e){return"object"===n(e)&&!Array.isArray(e)&&null!==e},isObjectOrArray:function(e){return"object"===n(e)&&null!==e},extend:function(){return Object.assign.apply(Object,arguments)},omit:function(e){for(var t=i.extend({},e),r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.forEach(function(e){return delete t[e]}),t},pick:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(function(t,r){return void 0!==e[r]&&(t[r]=e[r]),t},{})},merge:function(e,t){return i.isObject(e)&&i.isObject(t)&&Object.keys(t).forEach(function(n){i.isObject(t[n])?(e[n]||Object.assign(e,r({},n,{})),i.merge(e[n],t[n])):Object.assign(e,r({},n,t[n]))}),e}};t.select=function(e){for(var t=e&&e.query&&e.query.$select,r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];Array.isArray(t)&&n.length&&t.push.apply(t,n);var c=function(e){return Array.isArray(t)?i.pick.apply(i,[e].concat(function(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(t))):e};return function(e){return Array.isArray(e)?e.map(c):c(e)}},t.isPromise=function(e){return i.isObject(e)&&"function"==typeof e.then},t.makeUrl=function(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o="function"==typeof n.get?n.get.bind(n):function(){},i=o("env")||"production",c=o("host")||e.env.HOST_NAME||"localhost",a="development"===i||"test"===i||void 0===i?"http":"https",u=o("port")||e.env.PORT||3030,s="development"===i||"test"===i||void 0===i?":".concat(u):"";return r=r||"","".concat(a,"://").concat(c).concat(s,"/").concat(t.stripSlashes(r))},t.createSymbol=function(e){return"undefined"!=typeof Symbol?Symbol(e):e},t.compareNSB=function(e,t){return e<t?-1:t<e?1:0},t.compareArrays=function(e,r){var n,o;for(n=0;n<Math.min(e.length,r.length);n+=1)if(0!==(o=t.compare(e[n],r[n])))return o;return t.compareNSB(e.length,r.length)},t.compare=function(e,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t.compareNSB,o=t,i=o.compareNSB,c=o.compare,a=o.compareArrays;if(void 0===e)return void 0===r?0:-1;if(void 0===r)return void 0===e?0:1;if(null===e)return null===r?0:-1;if(null===r)return null===e?0:1;if("number"==typeof e)return"number"==typeof r?i(e,r):-1;if("number"==typeof r)return"number"==typeof e?i(e,r):1;if("string"==typeof e)return"string"==typeof r?n(e,r):-1;if("string"==typeof r)return"string"==typeof e?n(e,r):1;if("boolean"==typeof e)return"boolean"==typeof r?i(e,r):-1;if("boolean"==typeof r)return"boolean"==typeof e?i(e,r):1;if(e instanceof Date)return r instanceof Date?i(e.getTime(),r.getTime()):-1;if(r instanceof Date)return e instanceof Date?i(e.getTime(),r.getTime()):1;if(Array.isArray(e))return Array.isArray(r)?a(e,r):-1;if(Array.isArray(r))return Array.isArray(e)?a(e,r):1;for(var u=Object.keys(e).sort(),s=Object.keys(r).sort(),f=0,l=0;l<Math.min(u.length,s.length);l+=1)if(0!==(f=c(e[u[l]],r[s[l]])))return f;return i(u.length,s.length)},t.sorter=function(e){var r=Object.keys(e).map(function(t){return{key:t,direction:e[t]}});return function(e,n){for(var o,i=0;i<r.length;i++){var c=r[i];if(0!=(o=c.direction*t.compare(e[c.key],n[c.key])))return o}return 0}}}).call(this,r(5))},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:i,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],i=o.obj[o.prop],c=Object.keys(i),a=0;a<c.length;++a){var u=c[a],s=i[u];"object"==typeof s&&null!==s&&-1===r.indexOf(s)&&(t.push({obj:i,prop:u}),r.push(s))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var n=[],o=0;o<t.length;++o)void 0!==t[o]&&n.push(t[o]);r.obj[r.prop]=n}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",n=0;n<t.length;++n){var i=t.charCodeAt(n);45===i||46===i||95===i||126===i||48<=i&&i<=57||65<=i&&i<=90||97<=i&&i<=122?r+=t.charAt(n):i<128?r+=o[i]:i<2048?r+=o[192|i>>6]+o[128|63&i]:i<55296||57344<=i?r+=o[224|i>>12]+o[128|i>>6&63]+o[128|63&i]:(n+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),r+=o[240|i>>18]+o[128|i>>12&63]+o[128|i>>6&63]+o[128|63&i])}return r},isBuffer:function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,o){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];(o.plainObjects||o.allowPrototypes||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!=typeof t)return[t].concat(r);var c=t;return Array.isArray(t)&&!Array.isArray(r)&&(c=i(t,o)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,i){n.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=e(t[i],r,o):t.push(r):t[i]=r}),t):Object.keys(r).reduce(function(t,i){var c=r[i];return n.call(t,i)?t[i]=e(t[i],c,o):t[i]=c,t},c)}}},function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(13)("@feathersjs/errors");function i(e,t,r,c,a){var u,s,f;(e=e||"Error")instanceof Error?(s=e.message||"Error",e.errors&&(u=e.errors)):"object"===n(e)?(s=e.message||"Error",a=e):s=e,a&&((f=JSON.parse(JSON.stringify(a))).errors?(u=f.errors,delete f.errors):a.errors&&(u=JSON.parse(JSON.stringify(a.errors)))),this.type="FeathersError",this.name=t,this.message=s,this.code=r,this.className=c,this.data=f,this.errors=u||{},o("".concat(this.name,"(").concat(this.code,"): ").concat(this.message)),o(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack=(new Error).stack}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e}function a(e,t){i.call(this,e,"BadRequest",400,"bad-request",t)}function u(e,t){i.call(this,e,"NotAuthenticated",401,"not-authenticated",t)}function s(e,t){i.call(this,e,"PaymentError",402,"payment-error",t)}function f(e,t){i.call(this,e,"Forbidden",403,"forbidden",t)}function l(e,t){i.call(this,e,"NotFound",404,"not-found",t)}function p(e,t){i.call(this,e,"MethodNotAllowed",405,"method-not-allowed",t)}function y(e,t){i.call(this,e,"NotAcceptable",406,"not-acceptable",t)}function d(e,t){i.call(this,e,"Timeout",408,"timeout",t)}function h(e,t){i.call(this,e,"Conflict",409,"conflict",t)}function b(e,t){i.call(this,e,"LengthRequired",411,"length-required",t)}function m(e,t){i.call(this,e,"Unprocessable",422,"unprocessable",t)}function v(e,t){i.call(this,e,"TooManyRequests",429,"too-many-requests",t)}function g(e,t){i.call(this,e,"GeneralError",500,"general-error",t)}function O(e,t){i.call(this,e,"NotImplemented",501,"not-implemented",t)}function j(e,t){i.call(this,e,"BadGateway",502,"bad-gateway",t)}function w(e,t){i.call(this,e,"Unavailable",503,"unavailable",t)}c(i,Error),Object.defineProperty(i.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}}),c(a,i),c(u,i),c(s,i),c(f,i),c(l,i),c(p,i),c(y,i),c(d,i),c(h,i),c(b,i),c(m,i),c(v,i),c(g,i),c(O,i),c(j,i),c(w,i);var C={FeathersError:i,BadRequest:a,NotAuthenticated:u,PaymentError:s,Forbidden:f,NotFound:l,MethodNotAllowed:p,NotAcceptable:y,Timeout:d,Conflict:h,LengthRequired:b,Unprocessable:m,TooManyRequests:v,GeneralError:g,NotImplemented:O,BadGateway:j,Unavailable:w,400:a,401:u,402:s,403:f,404:l,405:p,406:y,408:d,409:h,411:b,422:m,429:v,500:g,501:O,502:j,503:w};e.exports=Object.assign({convert:function(e){if(!e)return e;var t=C[e.name],r=t?new t(e.message,e.data):new Error(e.message||e);return"object"===n(e)&&Object.assign(r,e),r}},C)},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:c}catch(e){n=c}}();var u,s=[],f=!1,l=-1;function p(){f&&u&&(f=!1,u.length?s=u.concat(s):l=-1,s.length&&y())}function y(){if(!f){var e=a(p);f=!0;for(var t=s.length;t;){for(u=s,s=[];++l<t;)u&&u[l].run();l=-1,t=s.length}u=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===c||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new d(e,t)),1!==s.length||f||a(y)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){var n=r(1),o=r(16),i=r(17);e.exports=Object.assign({},n,{hooks:o,filterQuery:i})},function(e,t,r){e.exports=r(8)},function(e,t,r){var n=r(9),o=r(18),i=r(19),c=r(20),a=r(21),u=r(22),s=r(0),f={jquery:n,superagent:o,request:i,fetch:c,axios:a,angular:u,angularHttpClient:r(23)};function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t={Base:s};return Object.keys(f).forEach(function(r){var n=f[r];t[r]=function(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("".concat(r," has to be provided to feathers-rest"));var i=function(r){return new n({base:e,name:r,connection:t,options:o})},c=function(){if("function"==typeof this.defaultService)throw new Error("Only one default client provider can be configured");this.rest=t,this.defaultService=i};return c.Service=n,c.service=i,c}}),t}e.exports=l,e.exports.default=l},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=r(0),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,c(t).apply(this,arguments))}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,u),r=t,(n=[{key:"request",value:function(e,t){var r=this,n=t.connection,o=void 0===n?{}:n,i=Object.assign({},e.headers,this.options.headers,o.headers),c=Object.assign({dataType:e.type||"json"},o,e,{headers:i});return e.body&&(c.data=JSON.stringify(e.body),c.contentType="application/json"),delete c.type,delete c.body,new Promise(function(e,t){r.connection.ajax(c).then(e,function(e){var r=e.responseText;try{r=JSON.parse(r)}catch(t){r=new Error(e.responseText)}r.xhr=r.response=e,t(r)})})}}])&&o(r.prototype,n),t}();e.exports=s},function(e,t,r){"use strict";var n=r(11),o=r(12),i=r(3);e.exports={formats:i,parse:o,stringify:n}},function(e,t,r){"use strict";var n=r(2),o=r(3),i={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Date.prototype.toISOString,a={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(e){return c.call(e)},skipNulls:!1,strictNullHandling:!1},u=function e(t,r,o,i,c,u,s,f,l,p,y,d){var h=t;if("function"==typeof s)h=s(r,h);else if(h instanceof Date)h=p(h);else if(null===h){if(i)return u&&!d?u(r,a.encoder):r;h=""}if("string"==typeof h||"number"==typeof h||"boolean"==typeof h||n.isBuffer(h))return u?[y(d?r:u(r,a.encoder))+"="+y(u(h,a.encoder))]:[y(r)+"="+y(String(h))];var b,m=[];if(void 0===h)return m;if(Array.isArray(s))b=s;else{var v=Object.keys(h);b=f?v.sort(f):v}for(var g=0;g<b.length;++g){var O=b[g];c&&null===h[O]||(m=Array.isArray(h)?m.concat(e(h[O],o(r,O),o,i,c,u,s,f,l,p,y,d)):m.concat(e(h[O],r+(l?"."+O:"["+O+"]"),o,i,c,u,s,f,l,p,y,d)))}return m};e.exports=function(e,t){var r=e,c=t?n.assign({},t):{};if(null!==c.encoder&&void 0!==c.encoder&&"function"!=typeof c.encoder)throw new TypeError("Encoder has to be a function.");var s=void 0===c.delimiter?a.delimiter:c.delimiter,f="boolean"==typeof c.strictNullHandling?c.strictNullHandling:a.strictNullHandling,l="boolean"==typeof c.skipNulls?c.skipNulls:a.skipNulls,p="boolean"==typeof c.encode?c.encode:a.encode,y="function"==typeof c.encoder?c.encoder:a.encoder,d="function"==typeof c.sort?c.sort:null,h=void 0!==c.allowDots&&c.allowDots,b="function"==typeof c.serializeDate?c.serializeDate:a.serializeDate,m="boolean"==typeof c.encodeValuesOnly?c.encodeValuesOnly:a.encodeValuesOnly;if(void 0===c.format)c.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,c.format))throw new TypeError("Unknown format option provided.");var v,g,O=o.formatters[c.format];"function"==typeof c.filter?r=(g=c.filter)("",r):Array.isArray(c.filter)&&(v=g=c.filter);var j,w=[];if("object"!=typeof r||null===r)return"";j=c.arrayFormat in i?c.arrayFormat:"indices"in c?c.indices?"indices":"repeat":"indices";var C=i[j];v||(v=Object.keys(r)),d&&v.sort(d);for(var S=0;S<v.length;++S){var k=v[S];l&&null===r[k]||(w=w.concat(u(r[k],k,C,f,l,p?y:null,g,d,h,b,O,m)))}var A=w.join(s),E=!0===c.addQueryPrefix?"?":"";return 0<A.length?E+A:""}},function(e,t,r){"use strict";var n=r(2),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},c=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,c=/(\[[^[\]]*])/.exec(n),a=c?n.slice(0,c.index):n,u=[];if(a){if(!r.plainObjects&&o.call(Object.prototype,a)&&!r.allowPrototypes)return;u.push(a)}for(var s=0;null!==(c=i.exec(n))&&s<r.depth;){if(s+=1,!r.plainObjects&&o.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+n.slice(c.index)+"]"),function(e,t,r){for(var n=t,o=e.length-1;0<=o;--o){var i,c=e[o];if("[]"===c)i=(i=[]).concat(n);else{i=r.plainObjects?Object.create(null):{};var a="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,u=parseInt(a,10);!isNaN(u)&&c!==a&&String(u)===a&&0<=u&&r.parseArrays&&u<=r.arrayLimit?(i=[])[u]=n:i[a]=n}n=i}return n}(u,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:i.delimiter,r.depth="number"==typeof r.depth?r.depth:i.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:i.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:i.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:i.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:i.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:i.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:i.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:i.strictNullHandling,""===e||null==e)return r.plainObjects?Object.create(null):{};for(var a="string"==typeof e?function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,c=t.parameterLimit===1/0?void 0:t.parameterLimit,a=n.split(t.delimiter,c),u=0;u<a.length;++u){var s,f,l=a[u],p=l.indexOf("]="),y=-1===p?l.indexOf("="):p+1;f=-1===y?(s=t.decoder(l,i.decoder),t.strictNullHandling?null:""):(s=t.decoder(l.slice(0,y),i.decoder),t.decoder(l.slice(y+1),i.decoder)),o.call(r,s)?r[s]=[].concat(r[s]).concat(f):r[s]=f}return r}(e,r):e,u=r.plainObjects?Object.create(null):{},s=Object.keys(a),f=0;f<s.length;++f){var l=s[f],p=c(l,a[l],r);u=n.merge(u,p,r)}return n.compact(u)}},function(e,t,r){(function(n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&("%c"===e&&(o=++n))}),t.splice(o,0,r)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(14)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,r(5))},function(e,t,r){e.exports=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var r;function c(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];if(c.enabled){var i=c,a=Number(new Date),u=a-(r||a);i.diff=u,i.prev=r,i.curr=a,r=a,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,r){if("%%"===e)return e;s++;var o=n.formatters[r];if("function"==typeof o){var c=t[s];e=o.call(i,c),t.splice(s,1),s--}return e}),n.formatArgs.call(i,t),(i.log||n.log).apply(i,t)}}return c.namespace=e,c.enabled=n.enabled(e),c.useColors=n.useColors(),c.color=t(e),c.destroy=o,c.extend=i,"function"==typeof n.init&&n.init(c),n.instances.push(c),c}function o(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){return n(this.namespace+(void 0===t?":":t)+e)}return((n.debug=n).default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var i=n.instances[t];i.enabled=n.enabled(i.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(15),Object.keys(e).forEach(function(t){n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t){var r=36e5,n=864e5;function o(e,t,r,n){var o=1.5*r<=t;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&0<e.length)return function(e){if(!(100<(e=String(e)).length)){var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*n;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*o;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===i&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);return n<=t?o(e,t,n,"day"):r<=t?o(e,t,r,"hour"):6e4<=t?o(e,t,6e4,"minute"):1e3<=t?o(e,t,1e3,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return n<=t?Math.round(e/n)+"d":r<=t?Math.round(e/r)+"h":6e4<=t?Math.round(e/6e4)+"m":1e3<=t?Math.round(e/1e3)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(1),i=o._,c=i.each,a=i.pick,u=o.createSymbol,s=u("__feathersSkipHooks");t.SKIP=s,t.ACTIVATE_HOOKS=u("__feathersActivateHooks"),t.createHookObject=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={};return Object.defineProperty(r,"toJSON",{value:function(){return a(this,"type","method","path","params","id","data","result","error")}}),Object.assign(r,t,{method:e,get path(){var e=t.app,r=t.service;return r&&e&&e.services?Object.keys(e.services).find(function(t){return e.services[t]===r}):null}})},t.defaultMakeArguments=function(e){var t=[];return void 0!==e.id&&t.push(e.id),e.data&&t.push(e.data),t.push(e.params||{}),t},t.makeArguments=function(e){switch(e.method){case"find":return[e.params];case"get":case"remove":return[e.id,e.params];case"update":case"patch":return[e.id,e.data,e.params];case"create":return[e.data,e.params]}return t.defaultMakeArguments(e)},t.convertHookData=function(e){var t={};return Array.isArray(e)?t={all:e}:"object"!==n(e)?t={all:[e]}:c(e,function(e,r){t[r]=Array.isArray(e)?e:[e]}),t},t.isHookObject=function(e){return"object"===n(e)&&"string"==typeof e.method&&"string"==typeof e.type},t.getHooks=function(e,t,r,n){var o=4<arguments.length&&void 0!==arguments[4]&&arguments[4],i=e.__hooks[r][n]||[],c=t.__hooks[r][n]||[];return o?c.concat(i):i.concat(c)},t.processHooks=function(e,r){var n=this,o=r,i=function(e){if(e){if(e===s)return s;if(!t.isHookObject(e))throw new Error("".concat(o.type," hook for '").concat(o.method,"' method returned invalid hook object"));o=e}return o};return e.reduce(function(e,t){var r=t.bind(n);return(e=2===r.length?e.then(function(e){return e===s?s:new Promise(function(t,n){r(e,function(e,r){return e?n(e):t(r)})})}):e.then(function(e){return e===s?s:r(e)})).then(i)},Promise.resolve(o)).then(function(){return o}).catch(function(e){throw e.hook=o,e})},t.enableHooks=function(e,r,n){if("function"==typeof e.hooks)return e;var o={};return n.forEach(function(e){o[e]={}}),Object.defineProperty(e,"__hooks",{value:o}),Object.assign(e,{hooks:function(e){var n=this;return c(e,function(e,o){if(!n.__hooks[o])throw new Error("'".concat(o,"' is not a valid hook type"));var i=t.convertHookData(e);c(i,function(e,t){if("all"!==t&&-1===r.indexOf(t))throw new Error("'".concat(t,"' is not a valid hook method"))}),r.forEach(function(e){var t=n.__hooks[o][e]||(n.__hooks[o][e]=[]);i.all&&t.push.apply(t,i.all),i[e]&&t.push.apply(t,i[e])})}),this}})}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(1)._;function i(e){if(void 0!==e)return Math.abs(parseInt(e,10))}function c(e,t,r,n){return Array.isArray(r)?o.each(r,function(r){e[r]=t[r]}):o.each(r,function(r,o){e[o]=r(t[o],n)}),e}var a={$sort:function(e){return"object"!==n(t=e)||Array.isArray(t)?t:Object.keys(t).reduce(function(e,r){return e[r]="object"===n(t[r])?t[r]:parseInt(t[r],10),e},{});var t},$limit:function(e,t){return function(e,t){if(t&&t.default){var r="number"==typeof e?e:t.default,n="number"==typeof t.max?t.max:Number.MAX_VALUE;return Math.min(r,n)}return e}(i(e),t.paginate)},$skip:function(e){return i(e)},$select:function(e){return e}},u=["$in","$nin","$lt","$lte","$gt","$gte","$ne","$or"];e.exports=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.filters,n=void 0===r?{}:r,i=t.operators,s=void 0===i?[]:i,f={};return f.filters=c({},e,a,t),f.filters=c(f.filters,e,n,t),f.query=function e(t,r){if(o.isObject(t)){var n={};return o.each(t,function(t,o){"$"===o[0]&&-1===r.indexOf(o)||(n[o]=e(t,r))}),n}return t}(e,u.concat(s)),f},Object.assign(e.exports,{OPERATORS:u,FILTERS:a})},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=r(0),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,c(t).apply(this,arguments))}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,u),r=t,(n=[{key:"request",value:function(e,t){var r=this.connection(e.method,e.url).set(this.options.headers||{}).set("Accept","application/json").set(t.connection||{}).set(e.headers||{}).type(e.type||"json");return new Promise(function(t,n){r.set(e.headers),e.body&&r.send(e.body),r.end(function(e,r){if(e){try{var o=e.response;(e=JSON.parse(e.response.text)).response=o}catch(e){}return n(e)}t(r&&r.body)})})}}])&&o(r.prototype,n),t}();e.exports=s},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=r(0),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,c(t).apply(this,arguments))}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,u),r=t,(n=[{key:"request",value:function(e,t){var r=this;return new Promise(function(n,o){var i=t.connection,c=void 0===i?{}:i,a=Object.assign({},e.headers,c.headers);r.connection(Object.assign({json:!0},e,t.connection,{headers:a}),function(e,t,r){return e?o(e):!e&&400<=t.statusCode?"string"==typeof r?o(new Error(r)):(r.response=t,o(Object.assign(new Error(r.message),r))):void n(r)})})}}])&&o(r.prototype,n),t}();e.exports=s},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=r(0),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,c(t).apply(this,arguments))}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,u),r=t,(n=[{key:"request",value:function(e,t){var r=Object.assign({},e,t.connection);return r.headers=Object.assign({Accept:"application/json"},this.options.headers,r.headers),e.body&&(r.body=JSON.stringify(e.body)),(0,this.connection)(e.url,r).then(this.checkStatus).then(function(e){return 204===e.status?null:e.json()})}},{key:"checkStatus",value:function(e){return e.ok?e:e.json().then(function(t){throw t.response=e,t})}}])&&o(r.prototype,n),t}();e.exports=s},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=r(0),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,c(t).apply(this,arguments))}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,u),r=t,(n=[{key:"request",value:function(e,t){var r=Object.assign({url:e.url,method:e.method,data:e.body,headers:Object.assign({Accept:"application/json"},this.options.headers,e.headers)},t.connection);return this.connection.request(r).then(function(e){return e.data}).catch(function(e){var t=e.response||e;throw t instanceof Error?t:t.data||t})}}])&&o(r.prototype,n),t}();e.exports=s},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=r(0),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,c(t).apply(this,arguments))}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,u),r=t,(n=[{key:"request",value:function(e,t){var r=this.connection,n=this.options.Headers;if(!r||!n)throw new Error("Please pass angular's 'http' (instance) and and object with 'Headers' (class) to feathers-rest");var o=e.url,i=t.connection,c=void 0===i?{}:i,a=new n(Object.assign({Accept:"application/json"},this.options.headers,e.headers,c.headers)),u=Object.assign({method:e.method,body:e.body},c,{headers:a});return new Promise(function(e,t){r.request(o,u).subscribe(e,t)}).then(function(e){return e.json()}).catch(function(e){var t=e.response||e;throw t instanceof Error?t:t.json()||t})}}])&&o(r.prototype,n),t}();e.exports=s},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=r(0),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,c(t).apply(this,arguments))}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,u),r=t,(n=[{key:"request",value:function(e,t){var r=this.connection,n=this.options.HttpHeaders;if(!r||!n)throw new Error("Please pass angular's 'httpClient' (instance) and and object with 'HttpHeaders' (class) to feathers-rest");var o=e.url,i=t.connection,c=void 0===i?{}:i,a=new n(Object.assign({Accept:"application/json"},this.options.headers,e.headers,c.headers)),u=Object.assign({body:e.body},t.connection,{headers:a});return new Promise(function(t,n){r.request(e.method,o,u).subscribe(t,n)}).catch(function(e){var t=e.error;if(t)throw"string"==typeof t?JSON.parse(t):t;throw e})}}])&&o(r.prototype,n),t}();e.exports=s}])});